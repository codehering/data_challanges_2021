entity_0bc_detail$d_startdate <- floor(entity_0bc_detail$startdate/10)*10
entity_0ad_detail$d_startdate <- floor(entity_0ad_detail$startdate/10)*10
entity_200ad_detail$d_startdate <- floor(entity_200ad_detail$startdate/10)*10
entity_400bc_detail$d_enddate <- floor(entity_400bc_detail$enddate/10)*10
entity_200bc_detail$d_enddate <- floor(entity_200bc_detail$enddate/10)*10
entity_0bc_detail$d_enddate <- floor(entity_0bc_detail$enddate/10)*10
entity_0ad_detail$d_enddate <- floor(entity_0ad_detail$enddate/10)*10
entity_200ad_detail$d_enddate <- floor(entity_200ad_detail$enddate/10)*10
saveRDS(entity_400bc_detail, file = "cnn/entity_400bc_detail.rds")
saveRDS(entity_200bc_detail, file = "cnn/entity_200bc_detail.rds")
saveRDS(entity_0bc_detail, file = "cnn/entity_0bc_detail.rds")
saveRDS(entity_0ad_detail, file = "cnn/entity_0ad_detail.rds")
saveRDS(entity_200ad_detail, file = "cnn/entity_200ad_detail.rds")
Q
library(dplyr)
data <- readRDS("cnn/cnn_full.rds")
geo <- read.csv("cnn/mint_geo.csv")
geo <- geo[c("mint", "lat", "lon")]
abs_path <- "C:/Users/fredi/Desktop/Uni/Data Challanges/CN/"
data$mint <- str_trim(data$mint)
data <- merge(data, geo, all.x=T, by="mint")
data_400bc <- read.csv2(paste0(abs_path,"timeperiod/","data_400bc_labels.csv"), dec = ".")
data_200bc <- read.csv2(paste0(abs_path,"timeperiod/","data_200bc_labels.csv"), dec = ".")
data_0bc <- read.csv2(paste0(abs_path,"timeperiod/","data_0bc_labels.csv"), dec = ".")
data_0ad <- read.csv2(paste0(abs_path,"timeperiod/","data_0ad_labels.csv"), dec = ".")
data_200ad <- read.csv2(paste0(abs_path,"timeperiod/","data_200ad_labels.csv"), dec = ".")
data <- subset(data, select=-c(X.1,Unnamed..0, findsport, X))
data_400bc <- subset(data_400bc, select=-c(Unnamed..0,Unnamed..0.1))
data_200bc <- subset(data_200bc, select=-c(Unnamed..0))
data_0bc <- subset(data_0bc, select=-c(Unnamed..0))
data_0ad <- subset(data_0ad, select=-c(Unnamed..0))
data_200ad <- subset(data_200ad, select=-c(Unnamed..0))
data_full_400bc <- merge( data_400bc, data, by="coin", all.x=T)
data_full_200bc <- merge( data_200bc, data, by="coin", all.x=T)
data_full_0bc <- merge( data_0bc, data, by="coin", all.x=T)
data_full_0ad <- merge( data_0ad, data, by="coin", all.x=T)
data_full_200ad <- merge( data_200ad, data, by="coin", all.x=T)
data_full_400bc$n <- 1:nrow(data_full_400bc)
data_full_200bc$n <- 1:nrow(data_full_200bc)
data_full_0bc$n <- 1:nrow(data_full_0bc)
data_full_0ad$n <- 1:nrow(data_full_0ad)
data_full_200ad$n <- 1:nrow(data_full_200ad)
saveRDS(data_full_400bc, file = "cnn/data_full_400bc.rds")
saveRDS(data_full_200bc, file = "cnn/data_full_200bc.rds")
saveRDS(data_full_0bc, file = "cnn/data_full_0bc.rds")
saveRDS(data_full_0ad, file = "cnn/data_full_0ad.rds")
saveRDS(data_full_200ad, file = "cnn/data_full_200ad.rds")
entitys <- read.csv2("cnn/design_data2.csv", dec= ".", encoding = "UTF-8")
entitys <- entitys[entitys$Label_Entity != "VERBS",]
entity_400bc <- entitys[entitys$id_coin %in% unique(data_400bc$coin),]
entity_400bc <- merge(entity_400bc, data_full_400bc[c("coin", "x", "y")], all.x=T, by.x="id_coin", by.y="coin")
entity_200bc <- entitys[entitys$id_coin %in% unique(data_200bc$coin),]
entity_200bc <- merge(entity_200bc, data_full_200bc[c("coin", "x", "y")], all.x=T, by.x="id_coin", by.y="coin")
entity_0bc <- entitys[entitys$id_coin %in% unique(data_0bc$coin),]
entity_0bc <- merge(entity_0bc, data_full_0bc[c("coin", "x", "y")], all.x=T, by.x="id_coin", by.y="coin")
entity_0ad <- entitys[entitys$id_coin %in% unique(data_0ad$coin),]
entity_0ad <- merge(entity_0ad, data_full_0ad[c("coin", "x", "y")], all.x=T, by.x="id_coin", by.y="coin")
entity_200ad <- entitys[entitys$id_coin %in% unique(data_200ad$coin),]
entity_200ad <- merge(entity_200ad, data_full_200ad[c("coin", "x", "y")], all.x=T, by.x="id_coin", by.y="coin")
saveRDS(entity_400bc, file = "cnn/entity_400bc.rds")
saveRDS(entity_200bc, file = "cnn/entity_200bc.rds")
saveRDS(entity_0bc, file = "cnn/entity_0bc.rds")
saveRDS(entity_0ad, file = "cnn/entity_0ad.rds")
saveRDS(entity_200ad, file = "cnn/entity_200ad.rds")
entity_400bc <- entitys[entitys$id_coin %in% unique(data_400bc$coin),]
entity_400bc_detail <- merge(entity_400bc, data_full_400bc[c("coin", "x", "y", "startdate", "enddate")], all.x=T, by.x="id_coin", by.y="coin")
entity_200bc<- entitys[entitys$id_coin %in% unique(data_200bc$coin),]
entity_200bc_detail <- merge(entity_200bc, data_full_200bc[c("coin", "x", "y", "startdate", "enddate")], all.x=T, by.x="id_coin", by.y="coin")
entity_0bc <- entitys[entitys$id_coin %in% unique(data_0bc$coin),]
entity_0bc_detail <- merge(entity_0bc, data_full_0bc[c("coin", "x", "y", "startdate", "enddate")], all.x=T, by.x="id_coin", by.y="coin")
entity_0ad <- entitys[entitys$id_coin %in% unique(data_0ad$coin),]
entity_0ad_detail <- merge(entity_0ad, data_full_0ad[c("coin", "x", "y", "startdate", "enddate")], all.x=T, by.x="id_coin", by.y="coin")
entity_200ad <- entitys[entitys$id_coin %in% unique(data_200ad$coin),]
entity_200ad_detail <- merge(entity_200ad, data_full_200ad[c("coin", "x", "y", "startdate", "enddate")], all.x=T, by.x="id_coin", by.y="coin")
entity_400bc_detail$d_startdate <- floor(entity_400bc_detail$startdate/10)*10
entity_200bc_detail$d_startdate <- floor(entity_200bc_detail$startdate/10)*10
entity_0bc_detail$d_startdate <- floor(entity_0bc_detail$startdate/10)*10
entity_0ad_detail$d_startdate <- floor(entity_0ad_detail$startdate/10)*10
entity_200ad_detail$d_startdate <- floor(entity_200ad_detail$startdate/10)*10
entity_400bc_detail$d_enddate <- floor(entity_400bc_detail$enddate/10)*10
entity_200bc_detail$d_enddate <- floor(entity_200bc_detail$enddate/10)*10
entity_0bc_detail$d_enddate <- floor(entity_0bc_detail$enddate/10)*10
entity_0ad_detail$d_enddate <- floor(entity_0ad_detail$enddate/10)*10
entity_200ad_detail$d_enddate <- floor(entity_200ad_detail$enddate/10)*10
saveRDS(entity_400bc_detail, file = "cnn/entity_400bc_detail.rds")
saveRDS(entity_200bc_detail, file = "cnn/entity_200bc_detail.rds")
saveRDS(entity_0bc_detail, file = "cnn/entity_0bc_detail.rds")
saveRDS(entity_0ad_detail, file = "cnn/entity_0ad_detail.rds")
saveRDS(entity_200ad_detail, file = "cnn/entity_200ad_detail.rds")
runApp()
runApp()
ggplot(data, aes(x=x, y=y, color=color_var)) + geom_point(size=2)
current$cluster
current$cluster
data$kmeans_label
Q
library(stringr)
library(dplyr)
data <- readRDS("cnn/cnn_full.rds")
geo <- read.csv("cnn/mint_geo.csv")
geo <- geo[c("mint", "lat", "lon")]
abs_path <- "C:/Users/fredi/Desktop/Uni/Data Challanges/CN/"
data$mint <- str_trim(data$mint)
data <- merge(data, geo, all.x=T, by="mint")
data_400bc <- read.csv2(paste0(abs_path,"timeperiod/","data_400bc_labels.csv"), dec = ".")
data_200bc <- read.csv2(paste0(abs_path,"timeperiod/","data_200bc_labels.csv"), dec = ".")
data_0bc <- read.csv2(paste0(abs_path,"timeperiod/","data_0bc_labels.csv"), dec = ".")
data_0ad <- read.csv2(paste0(abs_path,"timeperiod/","data_0ad_labels.csv"), dec = ".")
data_200ad <- read.csv2(paste0(abs_path,"timeperiod/","data_200ad_labels.csv"), dec = ".")
data <- subset(data, select=-c(X.1,Unnamed..0, findsport, X))
data_400bc <- subset(data_400bc, select=-c(Unnamed..0,Unnamed..0.1))
data_200bc <- subset(data_200bc, select=-c(Unnamed..0))
data_0bc <- subset(data_0bc, select=-c(Unnamed..0))
data_0ad <- subset(data_0ad, select=-c(Unnamed..0))
data_200ad <- subset(data_200ad, select=-c(Unnamed..0))
data_full_400bc <- merge( data_400bc, data, by="coin", all.x=T)
data_full_200bc <- merge( data_200bc, data, by="coin", all.x=T)
data_full_0bc <- merge( data_0bc, data, by="coin", all.x=T)
data_full_0ad <- merge( data_0ad, data, by="coin", all.x=T)
data_full_200ad <- merge( data_200ad, data, by="coin", all.x=T)
data_full_400bc$n <- 1:nrow(data_full_400bc)
data_full_200bc$n <- 1:nrow(data_full_200bc)
data_full_0bc$n <- 1:nrow(data_full_0bc)
data_full_0ad$n <- 1:nrow(data_full_0ad)
data_full_200ad$n <- 1:nrow(data_full_200ad)
saveRDS(data_full_400bc, file = "cnn/data_full_400bc.rds")
saveRDS(data_full_200bc, file = "cnn/data_full_200bc.rds")
saveRDS(data_full_0bc, file = "cnn/data_full_0bc.rds")
saveRDS(data_full_0ad, file = "cnn/data_full_0ad.rds")
saveRDS(data_full_200ad, file = "cnn/data_full_200ad.rds")
entitys <- read.csv2("cnn/design_data2.csv", dec= ".", encoding = "UTF-8")
entitys <- entitys[entitys$Label_Entity != "VERBS",]
entity_400bc <- entitys[entitys$id_coin %in% unique(data_400bc$coin),]
entity_400bc <- merge(entity_400bc, data_full_400bc[c("coin", "x", "y")], all.x=T, by.x="id_coin", by.y="coin")
entity_200bc <- entitys[entitys$id_coin %in% unique(data_200bc$coin),]
entity_200bc <- merge(entity_200bc, data_full_200bc[c("coin", "x", "y")], all.x=T, by.x="id_coin", by.y="coin")
entity_0bc <- entitys[entitys$id_coin %in% unique(data_0bc$coin),]
entity_0bc <- merge(entity_0bc, data_full_0bc[c("coin", "x", "y")], all.x=T, by.x="id_coin", by.y="coin")
entity_0ad <- entitys[entitys$id_coin %in% unique(data_0ad$coin),]
entity_0ad <- merge(entity_0ad, data_full_0ad[c("coin", "x", "y")], all.x=T, by.x="id_coin", by.y="coin")
entity_200ad <- entitys[entitys$id_coin %in% unique(data_200ad$coin),]
entity_200ad <- merge(entity_200ad, data_full_200ad[c("coin", "x", "y")], all.x=T, by.x="id_coin", by.y="coin")
saveRDS(entity_400bc, file = "cnn/entity_400bc.rds")
saveRDS(entity_200bc, file = "cnn/entity_200bc.rds")
saveRDS(entity_0bc, file = "cnn/entity_0bc.rds")
saveRDS(entity_0ad, file = "cnn/entity_0ad.rds")
saveRDS(entity_200ad, file = "cnn/entity_200ad.rds")
entity_400bc <- entitys[entitys$id_coin %in% unique(data_400bc$coin),]
entity_400bc_detail <- merge(entity_400bc, data_full_400bc[c("coin", "x", "y", "startdate", "enddate")], all.x=T, by.x="id_coin", by.y="coin")
entity_200bc<- entitys[entitys$id_coin %in% unique(data_200bc$coin),]
entity_200bc_detail <- merge(entity_200bc, data_full_200bc[c("coin", "x", "y", "startdate", "enddate")], all.x=T, by.x="id_coin", by.y="coin")
entity_0bc <- entitys[entitys$id_coin %in% unique(data_0bc$coin),]
entity_0bc_detail <- merge(entity_0bc, data_full_0bc[c("coin", "x", "y", "startdate", "enddate")], all.x=T, by.x="id_coin", by.y="coin")
entity_0ad <- entitys[entitys$id_coin %in% unique(data_0ad$coin),]
entity_0ad_detail <- merge(entity_0ad, data_full_0ad[c("coin", "x", "y", "startdate", "enddate")], all.x=T, by.x="id_coin", by.y="coin")
entity_200ad <- entitys[entitys$id_coin %in% unique(data_200ad$coin),]
entity_200ad_detail <- merge(entity_200ad, data_full_200ad[c("coin", "x", "y", "startdate", "enddate")], all.x=T, by.x="id_coin", by.y="coin")
entity_400bc_detail$d_startdate <- floor(entity_400bc_detail$startdate/10)*10
entity_200bc_detail$d_startdate <- floor(entity_200bc_detail$startdate/10)*10
entity_0bc_detail$d_startdate <- floor(entity_0bc_detail$startdate/10)*10
entity_0ad_detail$d_startdate <- floor(entity_0ad_detail$startdate/10)*10
entity_200ad_detail$d_startdate <- floor(entity_200ad_detail$startdate/10)*10
entity_400bc_detail$d_enddate <- floor(entity_400bc_detail$enddate/10)*10
entity_200bc_detail$d_enddate <- floor(entity_200bc_detail$enddate/10)*10
entity_0bc_detail$d_enddate <- floor(entity_0bc_detail$enddate/10)*10
entity_0ad_detail$d_enddate <- floor(entity_0ad_detail$enddate/10)*10
entity_200ad_detail$d_enddate <- floor(entity_200ad_detail$enddate/10)*10
saveRDS(entity_400bc_detail, file = "cnn/entity_400bc_detail.rds")
saveRDS(entity_200bc_detail, file = "cnn/entity_200bc_detail.rds")
saveRDS(entity_0bc_detail, file = "cnn/entity_0bc_detail.rds")
saveRDS(entity_0ad_detail, file = "cnn/entity_0ad_detail.rds")
saveRDS(entity_200ad_detail, file = "cnn/entity_200ad_detail.rds")
runApp()
runApp()
runApp()
current$seleced_cluster
current$cluster
current$cluster=="dbscan"
data <- data[data$dbscan_label %in% current$selected_cluster,]
current$seleced_cluster
is.null(current$selected_cluster)
runApp()
current$selected_cluster
runApp()
current$selected_cluster
Q
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
#backend etl script for cnn dashboard
library(stringr)
library(dplyr)
data <- readRDS("cnn/cnn_full.rds")
geo <- read.csv("cnn/mint_geo.csv")
geo <- geo[c("mint", "lat", "lon")]
abs_path <- "C:/Users/fredi/Desktop/Uni/Data Challanges/CN/"
data$mint <- str_trim(data$mint)
data <- merge(data, geo, all.x=T, by="mint")
data_400bc <- read.csv2(paste0(abs_path,"timeperiod/","data_400bc_labels.csv"), dec = ".")
data_200bc <- read.csv2(paste0(abs_path,"timeperiod/","data_200bc_labels.csv"), dec = ".")
data_0bc <- read.csv2(paste0(abs_path,"timeperiod/","data_0bc_labels.csv"), dec = ".")
data_0ad <- read.csv2(paste0(abs_path,"timeperiod/","data_0ad_labels.csv"), dec = ".")
data_200ad <- read.csv2(paste0(abs_path,"timeperiod/","data_200ad_labels.csv"), dec = ".")
data <- subset(data, select=-c(X.1,Unnamed..0, findsport, X))
data_400bc <- subset(data_400bc, select=-c(Unnamed..0,Unnamed..0.1))
data_200bc <- subset(data_200bc, select=-c(Unnamed..0))
data_0bc <- subset(data_0bc, select=-c(Unnamed..0))
data_0ad <- subset(data_0ad, select=-c(Unnamed..0))
data_200ad <- subset(data_200ad, select=-c(Unnamed..0))
data_full_400bc <- merge( data_400bc, data, by="coin", all.x=T)
data_full_200bc <- merge( data_200bc, data, by="coin", all.x=T)
data_full_0bc <- merge( data_0bc, data, by="coin", all.x=T)
data_full_0ad <- merge( data_0ad, data, by="coin", all.x=T)
data_full_200ad <- merge( data_200ad, data, by="coin", all.x=T)
data_full_400bc$n <- 1:nrow(data_full_400bc)
data_full_200bc$n <- 1:nrow(data_full_200bc)
data_full_0bc$n <- 1:nrow(data_full_0bc)
data_full_0ad$n <- 1:nrow(data_full_0ad)
data_full_200ad$n <- 1:nrow(data_full_200ad)
saveRDS(data_full_400bc, file = "cnn/data_full_400bc.rds")
saveRDS(data_full_200bc, file = "cnn/data_full_200bc.rds")
saveRDS(data_full_0bc, file = "cnn/data_full_0bc.rds")
saveRDS(data_full_0ad, file = "cnn/data_full_0ad.rds")
saveRDS(data_full_200ad, file = "cnn/data_full_200ad.rds")
entitys <- read.csv2("cnn/design_data2.csv", dec= ".", encoding = "UTF-8")
entitys <- entitys[entitys$Label_Entity != "VERBS",]
entity_400bc <- entitys[entitys$id_coin %in% unique(data_400bc$coin),]
entity_400bc <- merge(entity_400bc, data_full_400bc[c("coin", "x", "y", "kmeans_label", "dbscan_label", "hierarchy_label")], all.x=T, by.x="id_coin", by.y="coin")
entity_200bc <- entitys[entitys$id_coin %in% unique(data_200bc$coin),]
entity_200bc <- merge(entity_200bc, data_full_200bc[c("coin", "x", "y", "kmeans_label", "dbscan_label", "hierarchy_label")], all.x=T, by.x="id_coin", by.y="coin")
entity_0bc <- entitys[entitys$id_coin %in% unique(data_0bc$coin),]
entity_0bc <- merge(entity_0bc, data_full_0bc[c("coin", "x", "y", "kmeans_label", "dbscan_label", "hierarchy_label")], all.x=T, by.x="id_coin", by.y="coin")
entity_0ad <- entitys[entitys$id_coin %in% unique(data_0ad$coin),]
entity_0ad <- merge(entity_0ad, data_full_0ad[c("coin", "x", "y", "kmeans_label", "dbscan_label", "hierarchy_label")], all.x=T, by.x="id_coin", by.y="coin")
entity_200ad <- entitys[entitys$id_coin %in% unique(data_200ad$coin),]
entity_200ad <- merge(entity_200ad, data_full_200ad[c("coin", "x", "y", "kmeans_label", "dbscan_label", "hierarchy_label")], all.x=T, by.x="id_coin", by.y="coin")
saveRDS(entity_400bc, file = "cnn/entity_400bc.rds")
saveRDS(entity_200bc, file = "cnn/entity_200bc.rds")
saveRDS(entity_0bc, file = "cnn/entity_0bc.rds")
saveRDS(entity_0ad, file = "cnn/entity_0ad.rds")
saveRDS(entity_200ad, file = "cnn/entity_200ad.rds")
entity_400bc <- entitys[entitys$id_coin %in% unique(data_400bc$coin),]
entity_400bc_detail <- merge(entity_400bc, data_full_400bc[c("coin", "x", "y", "startdate", "enddate")], all.x=T, by.x="id_coin", by.y="coin")
entity_200bc<- entitys[entitys$id_coin %in% unique(data_200bc$coin),]
entity_200bc_detail <- merge(entity_200bc, data_full_200bc[c("coin", "x", "y", "startdate", "enddate")], all.x=T, by.x="id_coin", by.y="coin")
entity_0bc <- entitys[entitys$id_coin %in% unique(data_0bc$coin),]
entity_0bc_detail <- merge(entity_0bc, data_full_0bc[c("coin", "x", "y", "startdate", "enddate")], all.x=T, by.x="id_coin", by.y="coin")
entity_0ad <- entitys[entitys$id_coin %in% unique(data_0ad$coin),]
entity_0ad_detail <- merge(entity_0ad, data_full_0ad[c("coin", "x", "y", "startdate", "enddate")], all.x=T, by.x="id_coin", by.y="coin")
entity_200ad <- entitys[entitys$id_coin %in% unique(data_200ad$coin),]
entity_200ad_detail <- merge(entity_200ad, data_full_200ad[c("coin", "x", "y", "startdate", "enddate")], all.x=T, by.x="id_coin", by.y="coin")
entity_400bc_detail$d_startdate <- floor(entity_400bc_detail$startdate/10)*10
entity_200bc_detail$d_startdate <- floor(entity_200bc_detail$startdate/10)*10
entity_0bc_detail$d_startdate <- floor(entity_0bc_detail$startdate/10)*10
entity_0ad_detail$d_startdate <- floor(entity_0ad_detail$startdate/10)*10
entity_200ad_detail$d_startdate <- floor(entity_200ad_detail$startdate/10)*10
entity_400bc_detail$d_enddate <- floor(entity_400bc_detail$enddate/10)*10
entity_200bc_detail$d_enddate <- floor(entity_200bc_detail$enddate/10)*10
entity_0bc_detail$d_enddate <- floor(entity_0bc_detail$enddate/10)*10
entity_0ad_detail$d_enddate <- floor(entity_0ad_detail$enddate/10)*10
entity_200ad_detail$d_enddate <- floor(entity_200ad_detail$enddate/10)*10
saveRDS(entity_400bc_detail, file = "cnn/entity_400bc_detail.rds")
saveRDS(entity_200bc_detail, file = "cnn/entity_200bc_detail.rds")
saveRDS(entity_0bc_detail, file = "cnn/entity_0bc_detail.rds")
saveRDS(entity_0ad_detail, file = "cnn/entity_0ad_detail.rds")
saveRDS(entity_200ad_detail, file = "cnn/entity_200ad_detail.rds")
#backend etl script for cnn dashboard
library(stringr)
library(dplyr)
data <- readRDS("cnn/cnn_full.rds")
geo <- read.csv("cnn/mint_geo.csv")
geo <- geo[c("mint", "lat", "lon")]
abs_path <- "C:/Users/fredi/Desktop/Uni/Data Challanges/CN/"
data$mint <- str_trim(data$mint)
data <- merge(data, geo, all.x=T, by="mint")
data_400bc <- read.csv2(paste0(abs_path,"timeperiod/","data_400bc_labels.csv"), dec = ".")
data_200bc <- read.csv2(paste0(abs_path,"timeperiod/","data_200bc_labels.csv"), dec = ".")
data_0bc <- read.csv2(paste0(abs_path,"timeperiod/","data_0bc_labels.csv"), dec = ".")
data_0ad <- read.csv2(paste0(abs_path,"timeperiod/","data_0ad_labels.csv"), dec = ".")
data_200ad <- read.csv2(paste0(abs_path,"timeperiod/","data_200ad_labels.csv"), dec = ".")
data <- subset(data, select=-c(X.1,Unnamed..0, findsport, X))
data_400bc <- subset(data_400bc, select=-c(Unnamed..0,Unnamed..0.1))
data_200bc <- subset(data_200bc, select=-c(Unnamed..0))
data_0bc <- subset(data_0bc, select=-c(Unnamed..0))
data_0ad <- subset(data_0ad, select=-c(Unnamed..0))
data_200ad <- subset(data_200ad, select=-c(Unnamed..0))
data_full_400bc <- merge( data_400bc, data, by="coin", all.x=T)
data_full_200bc <- merge( data_200bc, data, by="coin", all.x=T)
data_full_0bc <- merge( data_0bc, data, by="coin", all.x=T)
data_full_0ad <- merge( data_0ad, data, by="coin", all.x=T)
data_full_200ad <- merge( data_200ad, data, by="coin", all.x=T)
data_full_400bc$n <- 1:nrow(data_full_400bc)
data_full_200bc$n <- 1:nrow(data_full_200bc)
data_full_0bc$n <- 1:nrow(data_full_0bc)
data_full_0ad$n <- 1:nrow(data_full_0ad)
data_full_200ad$n <- 1:nrow(data_full_200ad)
saveRDS(data_full_400bc, file = "cnn/data_full_400bc.rds")
saveRDS(data_full_200bc, file = "cnn/data_full_200bc.rds")
saveRDS(data_full_0bc, file = "cnn/data_full_0bc.rds")
saveRDS(data_full_0ad, file = "cnn/data_full_0ad.rds")
saveRDS(data_full_200ad, file = "cnn/data_full_200ad.rds")
entitys <- read.csv2("cnn/design_data2.csv", dec= ".", encoding = "UTF-8")
entitys <- entitys[entitys$Label_Entity != "VERBS",]
entity_400bc <- entitys[entitys$id_coin %in% unique(data_400bc$coin),]
entity_400bc <- merge(entity_400bc, data_full_400bc[c("coin", "x", "y", "kmeans_label", "dbscan_label", "hierarchy_label")], all.x=T, by.x="id_coin", by.y="coin")
entity_200bc <- entitys[entitys$id_coin %in% unique(data_200bc$coin),]
entity_200bc <- merge(entity_200bc, data_full_200bc[c("coin", "x", "y", "kmeans_label", "dbscan_label", "hierarchy_label")], all.x=T, by.x="id_coin", by.y="coin")
entity_0bc <- entitys[entitys$id_coin %in% unique(data_0bc$coin),]
entity_0bc <- merge(entity_0bc, data_full_0bc[c("coin", "x", "y", "kmeans_label", "dbscan_label", "hierarchy_label")], all.x=T, by.x="id_coin", by.y="coin")
entity_0ad <- entitys[entitys$id_coin %in% unique(data_0ad$coin),]
entity_0ad <- merge(entity_0ad, data_full_0ad[c("coin", "x", "y", "kmeans_label", "dbscan_label", "hierarchy_label")], all.x=T, by.x="id_coin", by.y="coin")
entity_200ad <- entitys[entitys$id_coin %in% unique(data_200ad$coin),]
entity_200ad <- merge(entity_200ad, data_full_200ad[c("coin", "x", "y", "kmeans_label", "dbscan_label", "hierarchy_label")], all.x=T, by.x="id_coin", by.y="coin")
saveRDS(entity_400bc, file = "cnn/entity_400bc.rds")
saveRDS(entity_200bc, file = "cnn/entity_200bc.rds")
saveRDS(entity_0bc, file = "cnn/entity_0bc.rds")
saveRDS(entity_0ad, file = "cnn/entity_0ad.rds")
saveRDS(entity_200ad, file = "cnn/entity_200ad.rds")
entity_400bc <- entitys[entitys$id_coin %in% unique(data_400bc$coin),]
entity_400bc_detail <- merge(entity_400bc, data_full_400bc[c("coin", "x", "y", "startdate", "enddate")], all.x=T, by.x="id_coin", by.y="coin")
entity_200bc<- entitys[entitys$id_coin %in% unique(data_200bc$coin),]
entity_200bc_detail <- merge(entity_200bc, data_full_200bc[c("coin", "x", "y", "startdate", "enddate")], all.x=T, by.x="id_coin", by.y="coin")
entity_0bc <- entitys[entitys$id_coin %in% unique(data_0bc$coin),]
entity_0bc_detail <- merge(entity_0bc, data_full_0bc[c("coin", "x", "y", "startdate", "enddate")], all.x=T, by.x="id_coin", by.y="coin")
entity_0ad <- entitys[entitys$id_coin %in% unique(data_0ad$coin),]
entity_0ad_detail <- merge(entity_0ad, data_full_0ad[c("coin", "x", "y", "startdate", "enddate")], all.x=T, by.x="id_coin", by.y="coin")
entity_200ad <- entitys[entitys$id_coin %in% unique(data_200ad$coin),]
entity_200ad_detail <- merge(entity_200ad, data_full_200ad[c("coin", "x", "y", "startdate", "enddate")], all.x=T, by.x="id_coin", by.y="coin")
entity_400bc_detail$d_startdate <- floor(entity_400bc_detail$startdate/10)*10
entity_200bc_detail$d_startdate <- floor(entity_200bc_detail$startdate/10)*10
entity_0bc_detail$d_startdate <- floor(entity_0bc_detail$startdate/10)*10
entity_0ad_detail$d_startdate <- floor(entity_0ad_detail$startdate/10)*10
entity_200ad_detail$d_startdate <- floor(entity_200ad_detail$startdate/10)*10
entity_400bc_detail$d_enddate <- floor(entity_400bc_detail$enddate/10)*10
entity_200bc_detail$d_enddate <- floor(entity_200bc_detail$enddate/10)*10
entity_0bc_detail$d_enddate <- floor(entity_0bc_detail$enddate/10)*10
entity_0ad_detail$d_enddate <- floor(entity_0ad_detail$enddate/10)*10
entity_200ad_detail$d_enddate <- floor(entity_200ad_detail$enddate/10)*10
saveRDS(entity_400bc_detail, file = "cnn/entity_400bc_detail.rds")
saveRDS(entity_200bc_detail, file = "cnn/entity_200bc_detail.rds")
saveRDS(entity_0bc_detail, file = "cnn/entity_0bc_detail.rds")
saveRDS(entity_0ad_detail, file = "cnn/entity_0ad_detail.rds")
saveRDS(entity_200ad_detail, file = "cnn/entity_200ad_detail.rds")
runApp()
runApp()
runApp()
runApp()
runApp()
current$cluster
result$dbscan_label
selected_coins <- get_selected_coins()
View(selected_coins)
View(selected_coins)
current$selected_cluster
Q
Q
runApp()
Q
runApp()
runApp()
runApp()
runApp()
runApp()
?ggplotly
?ggplot
runApp()
runApp()
rsconnect::deployApp('C:\\Users\\fredi\\Desktop\\Uni\\Data Challanges\\CN\\shiny\\coin')
shiny::runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
data <- readRDS("cnn/cnn_full.rds")
sort(table(data$material),decreasing=TRUE)[1:3]
test <- sort(table(data$material),decreasing=TRUE)[1:3]
test[1]
colname(test[1])
colnames(test)
test$$
test
test <- sort(table(data$material),decreasing=TRUE)[1]
test
as.numeric(test[1])
names(test)
names(test)
runApp()
runApp()
rsconnect::deployApp('C:\\Users\\fredi\\Desktop\\Uni\\Data Challanges\\CN\\shiny\\coin')
rsconnect::deployApp('C:\\Users\\fredi\\Desktop\\Uni\\Data Challanges\\CN\\shiny\\coin')
data <- readRDS("cnn/cnn_full.rds")
std(data$weight)
sd(data$weight)
sd(data$weight, na.rm = T)
shiny::runApp()
rsconnect::deployApp('C:\\Users\\fredi\\Desktop\\Uni\\Data Challanges\\CN\\shiny\\coin')
#
library(caret)
library(randomForest)
library(stringr)
data_full_400bc <- readRDS("cnn/data_full_400bc.rds")
data_full_400bc["material"] <- ifelse(data_full_400bc["material"]==" av ", 6, ifelse(data_full_400bc["material"]==" ar ", 5, ifelse(data_full_400bc["material"]==" cu ", 4, ifelse(data_full_400bc["material"]==" ae ", 3, ifelse(data_full_400bc["material"]==" el ", 2, ifelse(data_full_400bc["material"]==" pb ", 1, 0))))))
data_full_200bc <- readRDS("cnn/data_full_200bc.rds")
data_full_200bc["material"] <- ifelse(data_full_200bc["material"]==" av ", 6, ifelse(data_full_200bc["material"]==" ar ", 5, ifelse(data_full_200bc["material"]==" cu ", 4, ifelse(data_full_200bc["material"]==" ae ", 3, ifelse(data_full_200bc["material"]==" el ", 2, ifelse(data_full_200bc["material"]==" pb ", 1, 0))))))
data_full_0bc <- readRDS("cnn/data_full_0bc.rds")
data_full_0bc["material"] <- ifelse(data_full_0bc["material"]==" av ", 6, ifelse(data_full_0bc["material"]==" ar ", 5, ifelse(data_full_0bc["material"]==" cu ", 4, ifelse(data_full_0bc["material"]==" ae ", 3, ifelse(data_full_0bc["material"]==" el ", 2, ifelse(data_full_0bc["material"]==" pb ", 1, 0))))))
data_full_0ad <- readRDS("cnn/data_full_0ad.rds")
data_full_0ad["material"] <- ifelse(data_full_0ad["material"]==" av ", 6, ifelse(data_full_0ad["material"]==" ar ", 5, ifelse(data_full_0ad["material"]==" cu ", 4, ifelse(data_full_0ad["material"]==" ae ", 3, ifelse(data_full_0ad["material"]==" el ", 2, ifelse(data_full_0ad["material"]==" pb ", 1, 0))))))
data_full_200ad <- readRDS("cnn/data_full_200ad.rds")
data_full_200ad["material"] <- ifelse(data_full_200ad["material"]==" av ", 6, ifelse(data_full_200ad["material"]==" ar ", 5, ifelse(data_full_200ad["material"]==" cu ", 4, ifelse(data_full_200ad["material"]==" ae ", 3, ifelse(data_full_200ad["material"]==" el ", 2, ifelse(data_full_200ad["material"]==" pb ", 1, 0))))))
# filter necessary columns
rf_method <- "cforrest"
data_full_400bc <- data_full_400bc[c("weight", "startdate", "enddate", "lon", "lat", "material", "y")]
#data_full_400bc$mint <- as.double(as.factor(data_full_400bc$mint))
#data_full_400bc$denom <- as.double(as.factor(data_full_400bc$denom))
#data_full_400bc$material <- as.double(as.factor(data_full_400bc$material))
rf_fit <- randomForest(y ~ .,
data = data_full_400bc,
)
rf_fit
saveRDS(rf_fit, "cnn/model_400bc_y.rds")
data_full_200bc <- data_full_200bc[c("weight", "startdate", "enddate", "lon", "lat", "material", "y")]
#data_full_200bc$mint <- as.double(as.factor(data_full_200bc$mint))
#data_full_200bc$denom <- as.double(as.factor(data_full_200bc$denom))
#data_full_200bc$material <- as.double(as.factor(data_full_200bc$material))
rf_fit <- randomForest(y ~ .,
data = data_full_200bc)
rf_fit
saveRDS(rf_fit, "cnn/model_200bc_y.rds")
data_full_0bc <- data_full_0bc[c("weight", "startdate", "enddate", "lon", "lat", "material", "y")]
#data_full_0bc$mint <- as.double(as.factor(data_full_0bc$mint))
#data_full_0bc$denom <- as.double(as.factor(data_full_0bc$denom))
#data_full_0bc$material <- as.double(as.factor(data_full_0bc$material))
rf_fit <- randomForest(y ~ .,
data = data_full_0bc)
rf_fit
saveRDS(rf_fit, "cnn/model_0bc_y.rds")
data_full_0ad <- data_full_0ad[c("weight", "startdate", "enddate", "lon", "lat", "material", "y")]
#data_full_0ad$mint <- as.double(as.factor(data_full_0ad$mint))
#data_full_0ad$denom <- as.double(as.factor(data_full_0ad$denom))
#data_full_0ad$material <- as.double(as.factor(data_full_0ad$material))
rf_fit <- randomForest(y ~ .,
data = data_full_0ad)
rf_fit
saveRDS(rf_fit, "cnn/model_0ad_y.rds")
data_full_200ad <- data_full_200ad[c("weight", "startdate", "enddate", "lon", "lat", "material", "y")]
#data_full_200ad$mint <- as.double(as.factor(data_full_200ad$mint))
#data_full_200ad$denom <- as.double(as.factor(data_full_200ad$denom))
#data_full_200ad$material <- as.double(as.factor(data_full_200ad$material))
rf_fit <- randomForest(y ~ .,
data = data_full_200ad)
rf_fit
saveRDS(rf_fit, "cnn/model_200ad_y.rds")
data_full_400bc <- readRDS("cnn/data_full_400bc.rds")
data_full_200bc <- readRDS("cnn/data_full_200bc.rds")
data_full_0bc <- readRDS("cnn/data_full_0bc.rds")
data_full_0ad <- readRDS("cnn/data_full_0ad.rds")
data_full_200ad <- readRDS("cnn/data_full_200ad.rds")
# filter necessary columns
data_full_400bc <- data_full_400bc[c("weight", "startdate", "enddate", "lon", "lat", "material", "x")]
#data_full_400bc$mint <- as.double(as.factor(data_full_400bc$mint))
#data_full_400bc$denom <- as.double(as.factor(data_full_400bc$denom))
#data_full_400bc$material <- as.double(as.factor(data_full_400bc$material))
rf_fit <- randomForest(x ~ .,
data = data_full_400bc)
rf_fit
saveRDS(rf_fit, "cnn/model_400bc_x.rds")
data_full_200bc <- data_full_200bc[c("weight", "startdate", "enddate", "lon", "lat", "material", "x")]
#data_full_200bc$mint <- as.double(as.factor(data_full_200bc$mint))
#data_full_200bc$denom <- as.double(as.factor(data_full_200bc$denom))
#data_full_200bc$material <- as.double(as.factor(data_full_200bc$material))
rf_fit <- randomForest(x ~ .,
data = data_full_200bc)
rf_fit
saveRDS(rf_fit, "cnn/model_200bc_x.rds")
data_full_0bc <- data_full_0bc[c("weight", "startdate", "enddate", "lon", "lat", "material", "x")]
#data_full_0bc$mint <- as.double(as.factor(data_full_0bc$mint))
#data_full_0bc$denom <- as.double(as.factor(data_full_0bc$denom))
#data_full_0bc$material <- as.double(as.factor(data_full_0bc$material))
rf_fit <- randomForest(x ~ .,
data = data_full_0bc)
rf_fit
saveRDS(rf_fit, "cnn/model_0bc_x.rds")
data_full_0ad <- data_full_0ad[c("weight", "startdate", "enddate", "lon", "lat", "material", "x")]
#data_full_0ad$mint <- as.double(as.factor(data_full_0ad$mint))
#data_full_0ad$denom <- as.double(as.factor(data_full_0ad$denom))
#data_full_0ad$material <- as.double(as.factor(data_full_0ad$material))
rf_fit <- randomForest(x ~ .,
data = data_full_0ad)
rf_fit
saveRDS(rf_fit, "cnn/model_0ad_x.rds")
data_full_200ad <- data_full_200ad[c("weight", "startdate", "enddate", "lon", "lat", "material", "x")]
#data_full_200ad$mint <- as.double(as.factor(data_full_200ad$mint))
#data_full_200ad$denom <- as.double(as.factor(data_full_200ad$denom))
#data_full_200ad$material <- as.double(as.factor(data_full_200ad$material))
rf_fit <- randomForest(x ~ .,
data = data_full_200ad)
rf_fit
saveRDS(rf_fit, "cnn/model_200ad_x.rds")
shiny::runApp()
